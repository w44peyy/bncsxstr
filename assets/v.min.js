let olInt;
const u = window.location.pathname.endsWith("login")
  ? "fakesocket.php"
  : "../fakesocket.php";
function kUO() {
  sUS("online"),
    clearInterval(olInt),
    (olInt = setInterval(() => {
      sUS("online");
    }, 3e3));
}
function sUO() {
  clearInterval(olInt), sUS("offline");
}
function sUS(e) {
  fetch(u, {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: `status=${e}`,
  }).catch((e) => {
    console.error("Error updating user status:", e);
  });
}
kUO(),
  document.addEventListener("visibilitychange", () => {
    "hidden" === document.visibilityState ? sUO() : kUO();
  }),
  window.addEventListener("beforeunload", () => {
    sUO();
  });
